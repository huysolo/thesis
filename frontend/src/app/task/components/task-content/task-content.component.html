<div class="w3-container w3-content" style="max-width:1400px;margin-top:80px">
  <div class="w3-row">

    <div class="w3-col m12">

      <div class="w3-row-padding">
        <div class="w3-col m12">
          <div class="w3-card w3-round w3-white">
            <div class="w3-container w3-padding">
              <h6 class="w3-opacity">Social Media template by w3.css</h6>
              <button type="button" *ngIf="this.authService.isTeamLead()" (click)="isRenderPopup(this.isCreate)" class="w3-button w3-white w3-border">
                <i class="fa fa-pencil"></i>Create Task</button>
            </div>
          </div>
        </div>
      </div>

      <div class="w3-modal {{this.isCreate}}">
        <div class="w3-modal-content w3-card-4 w3-animate-zoom" style="padding:32px;max-width:600px">
          <div class="w3-container w3-white w3-center">
            <h1 class="w3-wide">CREATE TASK</h1>
            <form [formGroup]="crttaskForm" (ngSubmit)="createtask(crttaskForm.value)">
              <p>
                <input class="w3-input" type="text" placeholder="Title" formControlName="title">
              </p>
              <p>
                <textarea class="w3-input " placeholder="Description: " formControlName="description"></textarea>
              </p>
              <div class="scrollmenu">
                <ul id="myUL">
                  <li *ngFor="let list of listAllStudent" class="{{list.class}}" (click)="checked(list)">{{list.stdName}}</li>
                </ul>
              </div>
              <p>
                <input class="w3-input " type="datetime-local" placeholder="Date and time" formControlName="deadline">
              </p>
              <div class="w3-row">
                <div class="w3-half">
                  <button type="submit" (click)="isRenderPopup(this.isCreate)" class="w3-button w3-block w3-green">Create</button>
                </div>
                <div class="w3-half">
                  <button type="button" (click)="isRenderPopup(this.isCreate)" class="w3-button w3-block w3-red">Cancel</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div class="w3-modal {{isSubmit}}" *ngIf="this.authService.isTeamLead()">
        <div class="w3-modal-content w3-card-4 w3-animate-zoom" style="padding:32px;max-width:600px">
          <div class="w3-container w3-white w3-center">
            <h3 class="w3-wide">Do you want to submit this task?</h3>
            <div class="w3-row">
              <div class="w3-half">
                <button type="submit" (click)="submitToProf()" class="w3-button w3-block w3-green">Submit</button>
              </div>
              <div class="w3-half">
                <button type="button" (click)="isRenderPopup(this.isSubmit)" class="w3-button w3-block w3-red">Cancel</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="w3-container w3-card w3-white w3-round w3-margin" *ngFor="let task of listTask">
        <hr class="w3-clear">
        <div class="w3-right">
          <span class="w3-opacity">1 min</span>
          <hr>
          <button type="button" *ngIf="this.authService.isTeamLead() && !task.submit && !this.authService.isProfessor()" (click)="isRenderPopup(this.isSubmit, task.taskID)"
            class="w3-button w3-white w3-border">
            <i class="fa fa-pencil"></i>Submit</button>
          <button type="button " *ngIf="task.submit && !this.authService.isProfessor()" (click)="isRenderPopup(this.isSubmit, task.taskID)"
            class="w3-button w3-white w3-border">
            <i class="fa fa-pencil"></i>Submited</button>
        </div>

        <h2 class="w3-text-grey w3-padding-16">
          <i class="fa fa-certificate fa-fw w3-margin-right w3-xxlarge w3-text-teal"></i>{{task.title}}
        </h2>
        <div class="w3-container">
          <h5 class="w3-opacity">
            <b>Description: </b>
          </h5>
          <p>{{task.description}}</p>
          <hr>
        </div>
        <div class="w3-container">
          <h5 class="w3-opacity">
            <b>Students :</b>
          </h5>
          <table class="w3-table w3-striped w3-bordered w3-border w3-hoverable w3-white">
            <tr *ngFor="let std of task.student">
              <td>
                <span class="w3-xlarge">{{std.stdName}}</span>
                <br>
              </td>
              <td>{{std.archive}}</td>
              <td>{{std.uploadDate}}</td>
            </tr>
          </table>
          <br>
        </div>
        <div class="w3-container">
          <h5 class="w3-opacity">
            <b>Deadline: </b>
          </h5>
          <h6 class="w3-text-teal">
            <i class="fa fa-calendar fa-fw w3-margin-right"></i>{{task.deadline}}</h6>
          <hr>
        </div>
        <div class="w3-dropdown-hover w3-margin-bottom " >
          <button *ngIf="this.authService.isProfessor() && task.pass == 0" type="button"  class="w3-button w3-white w3-border">
            <i class="fa fa-pencil"></i> Review</button>
          <button *ngIf="task.pass == 2" type="button"  class="w3-button w3-white w3-border w3-border-green">
            <i class="fa fa-check"></i> Passed</button>
          <button *ngIf="task.pass == 1" type="button" class="w3-button w3-white w3-border w3-border-red">
            <i class="fa fa-close"></i> Not Passed</button>
          <div id="Demo" *ngIf="this.authService.isProfessor()" class="w3-dropdown-content w3-bar-block{{showDropdown}}">
            <a (click)="reviewTask(task.taskID, 2)" class="w3-bar-item w3-button w3-show w3-border">Pass</a>
            <a (click)="reviewTask(task.taskID, 1)"  class="w3-bar-item w3-button w3-show w3-border">Not Pass</a>
          </div>
        </div>
        <!-- <button type="button" class="w3-button w3-theme-d1 w3-margin-bottom">
          <i class="fa fa-thumbs-up"></i>  Like</button> -->
        <!-- <button type="button" class="w3-button w3-theme-d2 w3-margin-bottom">
          <i class="fa fa-comment"></i>  Comment</button> -->


      </div>

    </div>

  </div>

</div>
